{"version":3,"file":"miniSpeedChart-uncompiled.js","sources":["../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/objectSpread.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/detect-connection-speed/dist/detectConnectionSpeed.js","../src/index.js"],"sourcesContent":["function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=e||self).DetectConnectionSpeed=t()}(this,function(){\"use strict\";var i=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e};var r=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);\"function\"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(e){i(t,e,r[e])})}return t};var n=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var e=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};return function(){function t(e){n(this,t),this.option=r({url:\"\",loop:!0,time:1e3,detectCallback:function(e){return e}},e),this.transportFactory=this.getStreamFactory(),this.detect()}return e(t,[{key:\"supportsXhrResponseType\",value:function(e){try{var t=new XMLHttpRequest;return t.responseType=e,t.responseType===e}catch(e){return!1}}},{key:\"getStreamFactory\",value:function(){if(\"undefined\"!=typeof Response&&Object.prototype.hasOwnProperty.call(Response.prototype,\"body\")&&\"function\"==typeof Headers)return this.fetchRequest;return this.supportsXhrResponseType(\"moz-chunked-arraybuffer\")?this.mozXhrRequest:this.xhrRequest}},{key:\"detect\",value:function(){this.timer=null,this.result=[],this.detectStartTime=(new Date).getTime(),this.requestUrl=this.option.url+\"?time=\"+this.detectStartTime,this.transportFactory()}},{key:\"fetchRequest\",value:function(){var t=this;if(\"function\"!=typeof window.fetch)throw new Error(\"fetch function is not supported in your environment\");return this.reader=null,fetch(this.requestUrl).then(function(e){if(\"function\"!=typeof e.body.getReader)throw new Error(\"response.body.getReader function is not supported in your environment\");t.reader=e.body.getReader(),function i(){var o=this,s=(new Date).getTime();this.reader.read().then(function(e){var t=e.done,r=e.value;if(t)return o.summary(),void(o.option.loop&&(o.timer=setTimeout(o.detect.bind(o),o.option.time)));var n=(new Date).getTime();o.calculate(new Uint8Array(r),n-s),i.call(o)}).catch(function(e){throw e})}.call(t)})}},{key:\"mozXhrRequest\",value:function(){var r=this;this.xhr=new XMLHttpRequest,this.xhr.open(\"GET\",this.requestUrl,!0),this.xhr.responseType=\"moz-chunked-arraybuffer\";var n=null,e=function(){var e=(new Date).getTime(),t=e-n;r.calculate(new Uint8Array(r.xhr.response),t),n=e},t=function(){2===r.xhr.readyState&&(n=(new Date).getTime())},i=function(){r.summary(),r.option.loop&&(r.timer=setTimeout(r.detect.bind(r),r.option.time))},o=function e(){throw e};this.xhr.addEventListener(\"progress\",e),this.xhr.addEventListener(\"readystatechange\",t),this.xhr.addEventListener(\"loadend\",i),this.xhr.addEventListener(\"error\",o),this.xhr.destroy=function(){r.xhr.removeEventListener(\"progress\",e),r.xhr.removeEventListener(\"readystatechange\",t),r.xhr.removeEventListener(\"loadend\",i),r.xhr.removeEventListener(\"error\",o)},this.xhr.send()}},{key:\"calculate\",value:function(e,t){this.result.push({streamSize:e.byteLength,streamTime:t})}},{key:\"summary\",value:function(){var e=(new Date).getTime()-this.detectStartTime,t=this.resultSum(\"streamTime\"),r=e-t,n=this.resultSum(\"streamSize\"),i=n/t,o=i/1024;this.option.detectCallback({detectTime:e,downloadTime:t,downloadSize:n,waitingTime:r,speedKbps:i,speedMbps:o})}},{key:\"resultSum\",value:function(r){return this.result.reduce(function(e,t){return e+t[r]},0)}},{key:\"destroy\",value:function(){this.option.loop=!1,this.timer&&clearTimeout(this.timer),this.reader&&\"function\"==typeof this.reader.cancel&&this.reader.cancel(),this.xhr&&\"function\"==typeof this.xhr.abort&&(this.xhr.abort(),this.xhr.destroy())}}]),t}()});\n","import DetectConnectionSpeed from 'detect-connection-speed';\n\nexport default class MiniSpeedChart {\n  constructor(option) {\n    this.option = {\n      canvas: '',\n      url: '',\n      width: 180,\n      height: 20,\n      backgroundColor: '#000',\n      lineColor: '#4f0',\n      lineWidth: 2,\n      detectCallback: result => result,\n      ...option\n    };\n\n    this.speeds = [];\n    this.$canvas = document.querySelector(this.option.canvas);\n    this.ctx = this.$canvas.getContext('2d');\n    this.style();\n    this.detect();\n  }\n\n  style() {\n    this.$canvas.width = this.option.width;\n    this.$canvas.height = this.option.height;\n    this.$canvas.style.width = `${this.option.width}px`;\n    this.$canvas.style.height = `${this.option.height}px`;\n    this.$canvas.style.backgroundColor = this.option.backgroundColor;\n  }\n\n  detect() {\n    this.detect = new DetectConnectionSpeed({\n      url: this.option.url,\n      detectCallback: result => {\n        if (this.speeds.length * this.option.lineWidth >= this.option.width) {\n          this.speeds.shift();\n        }\n        this.speeds.push(Number(result.speedKbps.toFixed(2)));\n        this.draw();\n        this.option.detectCallback(result);\n      }\n    });\n  }\n\n  draw() {\n    this.ctx.clearRect(0, 0, this.$canvas.width, this.$canvas.height);\n    this.ctx.fillStyle = this.option.lineColor;\n    const min = Math.min(...this.speeds);\n    const max = Math.max(...this.speeds);\n    const diff = max - min;\n    const scale = diff / this.option.height;\n    this.speeds.forEach((item, index) => {\n        const y = this.option.height - (item - min) / scale;\n        const h = this.option.height - y;\n        this.ctx.fillRect(index * this.option.lineWidth, y, this.option.lineWidth, h);\n    });\n  }\n\n  destroy() {\n    this.speeds = [];\n    if (this.detect) {\n      this.detect.destroy();\n    }\n  }\n}\n"],"names":["this","MiniSpeedChart","option","canvas","url","width","height","backgroundColor","lineColor","lineWidth","detectCallback","result","speeds","$canvas","document","querySelector","ctx","getContext","style","detect","DetectConnectionSpeed","length","shift","push","Number","speedKbps","toFixed","draw","clearRect","fillStyle","min","Math","max","diff","scale","forEach","item","index","y","h","fillRect","destroy"],"mappings":"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"}